---
layout: post
title: Running React.js JSX with CoffeeScript without any extra tools + JSFiddle Hello Worlds
abstract: As a CoffeeScript lover, React's JSX file always bad to me. I tried lots of tools to make it run simply but never satisfied; the tools were not simple.
---

## Using CoffeeScript with React's JSX

As a CoffeeScript lover, React's JSX files are always bad to me. I tried lots of tools to make it run simply but never satisfied, the tools were not simple.

At last, I noticed that CoffeeScript has already a built-in feature to create JSX files easily, without an extra tool need. Even it says "you'll never need to use it" in CoffeeScript's documentation page, if you are working with React.js, it's a cool and clean hack using [**Embedded JavaScript**][3] feature of CoffeeScript.

You can try the following fiddles:

 - [React + CoffeeScript JSFiddle][1]
 - [React + CoffeeScript JSFiddle without JSX Support][2]

## Compiling on CLI

As I mentioned before, there is no extra tool needed. Just built-in React tools, and CoffeeScript compiler.

{% highlight bash %}
    npm i -g coffee-script react-tools
    mkdir coffee
    touch coffee/hello.coffee
{% endhighlight %}

We created a `coffee/` directory with a `hello.coffee` in it. Let's write our `Hello` component:

{% highlight coffeescript %}
###* @jsx React.DOM ###

Hello = React.createClass
  render: ->
    `<div>{this.props.name}</div>`

React.renderComponent `<Hello name="world" />`, document.body
{% endhighlight %}

And now, we should run this code:

{% highlight bash %}
coffee -c --no-header -o jsx/ coffee/ && jsx jsx/ js/
{% endhighlight %}

After doing this, it will create `jsx` and `js` folders:

{% highlight bash %}
$ ls
coffee js jsx
{% endhighlight %}

Let's inspect the JS file which is generated by the command above:

{% highlight js %}
(function() {
  var Hello;

  Hello = React.createClass({displayName: 'Hello',
    render: function() {
      return React.DOM.div(null, this.props.name);
    }
  });

  React.renderComponent(Hello( {name:"fatih"} ), document.getElementById('hello'));

}).call(this);
{% endhighlight %}

It's done! :)

## Using with Rails Asset Pipeline

Also you can use this technique with Rails Asset Pipeline very easily. You can read
[official documentation][4].

{% highlight ruby %}
# Coffee
gem 'coffee-rails'

# React
gem 'react-rails'
{% endhighlight %}

After adding `react-rails` gem, update bundles:

{% highlight bash %}
bundle install
{% endhighlight %}

You can create a CoffeeScript file with the extension `.jsx.coffee` and it will automatically compile to
JavaScript file. (Create `app/assets/javascripts/hello.jsx.coffee` and test with the code above)

**Don't forget to add `###* @jsx React.DOM ###` beginning of the file.**

[1]: http://jsfiddle.net/fkadev/c3LFw/
[2]: http://jsfiddle.net/fkadev/Ry48U/
[3]: http://coffeescript.org/#embedded
[4]: http://facebook.github.io/react/blog/2013/07/30/use-react-and-jsx-in-ruby-on-rails.html#asset-pipeline
